<h1>Python ve Komut Satırına Erişmek, Popen</h1>
<p>Script yazarken bazen ihtiyaçlardan biri python script'i içinde bir
shell script işletebilmek. Çıktısı işlenmeyenler için
<code>os.system(komut)</code> yetiyor tabii. Fakat komut çıktısını göstermek
istiyorsak?</p>
<pre><code>import os
res = os.popen(&quot;ls -al&quot;)
</code></pre>

<p>kullanimi basit - fakat tedavulden kalkacakmis (deprecated), bu yuzden
kalici kodlari ona bagli yazmak iyi olmaz. Kutuphane subprocess
tavsiye ediliyor,</p>
<pre><code>import subprocess 
p = subprocess.Popen(['ls','-al'], stdout=subprocess.PIPE)
res = p.stdout.read()
print (res)
</code></pre>

<p>İş biraz daha zorlaştı ama kullana kullana alışılabilir. </p>
<p>Bir diğer ihtiyaç komut "işlerken" onun çıktısını iterator ile
gezebilmektir. Belki komut yavaş işleyecektir, beklerken belki o ana
kadar olan çıktıyı işlemek / ekrana basmak ve yan bazı işlerle
uğraşmak isteyebiliriz. Bunu şubprocess ile yapabiliyorsunuz,</p>
<pre><code>p = subprocess.Popen(['ping','-c','3','localhost'], stdout=subprocess.PIPE)
for line in p.stdout:
    print line
</code></pre>

<p>Üstteki komut  her satırı ayrı ayrı, Python döngüsü içinde basacak. </p>