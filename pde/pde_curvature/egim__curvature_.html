<h1>Eğim (Curvature)</h1>
<!DOCTYPE html>
<html>
  <head>
    <title>Eğim (Curvature)
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
<script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
</script>
</head>

<p>Kesit seviyeleri tekniğinde bir eğri normal formda değil, dolaylı
(implicit) bir fonksiyon ile $F(x,y) = 0$ olarak gösterilir. Bu fonksiyonun
tam diferansiyelini alırsak,</p>
<p>$$ dF = F_x dx + F_y dy = 0  $$</p>
<p>$$ dy = \frac{-F_x}{F_y}dx  $$</p>
<p>$$ y' = \frac{dy}{dx} = \frac{-F_x}{F_y} = f'(x) = \frac{df}{dx} $$</p>
<p>Burada bir faraziye daha var, o da aslında ilk verilen formülde olmasa bile
$y=f(x)$ olarak kabul etmemiz, yani $F(x,y)$ nasıl bir formül olursa olsun,
$y$'nin $x$'leri içerecek şekilde tekrar düzenlenebileceğini farz etmemiz,
böylece $F(x,f(x))$ olabileceğini söylemiş oluyoruz.</p>
<p>Şimdi $y'$ ifadesinin türevini bir daha alalım. Yukarıdaki $y'$ formülünde
en sağ taraf bir bölme işlemi içerdiği için burada Calculus'un Bölümler
Kuralını (Quotient Rule) uygulamamız lazım (detaylar için Bölüm Kuralı
yazısına bakınız). Bu kural şöyle gösterilir:</p>
<p>$$ \frac{d}{dx}\bigg(\frac{u}{v}\bigg) = 
\frac{\displaystyle \frac{v du}{dx} - \frac{u dv}{dx}}{v^2} $$</p>
<p>Bölümler Kuralı için $u$ ve $v$ tanımları nedir? </p>
<p>$$ u = -F_x(x,f(x))  $$</p>
<p>$$ v = F_y(x,f(x)) $$</p>
<p>O zaman</p>
<p>$$ 
v \frac{du}{dx} = F_y \frac{dF_x}{dx} 
\qquad (1)
$$</p>
<p>$$
u \frac{dv}{dx} = -F_x \frac{dF_y }{dx} 
\qquad (2)
$$</p>
<p>Bunlardan mesela $dF_x/dx$ üzerinde Zincirleme Kanunu (Chain Rule) uygulamak
lazım (bu kural tam integral kuralının bir sonucu). </p>
<p>$$ \frac{d F_x(x,f(x)) }{dx} = \frac{\partial F_x}{\partial  x}(x,f(x))+\frac{\partial F_x}{\partial y}\frac{df}{dx}\\ $$</p>
<p>$$
= F_{xx}(x,f(x))+F_{xy}(x,f(x))f'(x) 
\qquad (3)
$$</p>
<p>$$
\frac{d F_y(x,f(x)) }{dx} =  F_{xy}(x,f(x))+F_{yy}(x,f(x))f'(x) 
\qquad (4)
$$</p>
<p>Zincirleme Kanunu niye üstteki şekilde açıldı? Tam Diferansiyeli bir daha
hatırlayalım:</p>
<p>$$ df = \frac{\partial f}{\partial x} dx + \frac{\partial f}{\partial y} dy  $$</p>
<p>$$ \frac{df}{dx} = \frac{\partial f}{\partial x} \frac{dx}{dx} + \frac{\partial f}{\partial y} \frac{dy}{dx}  $$</p>
<p>$$ \frac{df}{dx} = \frac{\partial f}{\partial x} + \frac{\partial f}{\partial y} \frac{dy}{dx}  $$</p>
<p>O zaman formüller (1) (2) (3) ve (4) bir araya konulursa,</p>
<p>$$ y " = - \frac{F_yF_{xx} - F_y F_{xy}\frac{F_x}{F_y} - F_xF_{xy} + F_xF_{yy}\frac{F_x}{F_y}}{F_y^2}\\ $$</p>
<p>$$ y " = - \frac{F_yF_{xx} - F_{xy}F_x - F_xF_{xy} + \frac{F_x^2F_{yy}}{F_y}}{F_y^2} $$</p>
<p>Üstteki bölümün hem bölen, hem bölünen terimlerini $F_y$ ile çarparsak, ve
sadeleştirirsek</p>
<p>$$ y " = - \frac{F_y^2F_{xx} - 2F_{xy}F_xF_y + F_x^2F_{yy}}{F_y^3} $$</p>
<p>Şimdi surada [2] türetimi gösterilen eğim  formülüne
bakalım. Not: Eğer</p>
<p>$$ \kappa = \frac{x'y"-y'x"}{\bigg(x'^2 + y'^2 \bigg)^{3/2}} $$</p>
<p>formülünün alttaki formüle nasıl dönüştüğü tam anlaşılır değilse,
hatırlayalım ki, $y=f(x)$, ve $x'=1$, ve $x" = 0$.</p>
<p>Bu formülün Courant [1] sf. 231'de benzer bir formunu görüyoruz (Bu arada o
karmaşık formül yerine yaklaşıksal olarak hesaplama sırasında sadece $f"$
kullanmak ta mümkün [3, giriş bölümü])</p>
<p>$$ \kappa = \frac{f"}{(1+f'^2)^{3/2}} $$</p>
<p>Bu formüldeki $f"$ yani $y"$ için üstte bulduğumuz sonucu, $f'$ yani $y'$
için bu yazının başındaki formülü koyarsak,</p>
<p>$$ 
\kappa = \frac
{-\frac
{\displaystyle F_y^2F_{xx} - 2F_{xy}F_xF_y +  F_x^2F_{yy}}{\displaystyle F_y^3}}
{(1+f'^2)^{3/2}} 
$$  </p>
<p>Bölen kısmı nedir?</p>
<p>$$ (1+f'^2)^{3/2} = \bigg( 1 + \bigg(\frac{-F_x}{F_y}\bigg)^2 \bigg)^{3/2}  $$</p>
<p>$$ = \bigg( 1 + \frac{F_x^2}{F_y^2} \bigg)^{3/2}  $$</p>
<p>$$ = \bigg( \frac{F_y^2 + F_x^2}{F_y^2} \bigg)^{3/2}  $$</p>
<p>$$ = (F_y^2 + F_x^2)^{3/2}(F_y^{-2})^{3/2}  $$</p>
<p>$$ = (F_y^2 + F_x^2)^{3/2}F_y^{-6/2}  $$</p>
<p>$$ = (F_y^2 + F_x^2)^{3/2}F_y^{-3} $$</p>
<p>Yerine koyarsak,</p>
<p>$$ 
\kappa = \frac{\displaystyle
- \frac{F_y^2F_{xx} - 2F_{xy}F_xF_y + F_x^2F_{yy}}{F_y^3}}
{(F_y^2 + F_x^2)^{3/2}F_y^{-3}}
 $$</p>
<p>$F_y^{-3}$ ve $F_y^{3}$ birbirlerini iptal ederler ve sonuç:</p>
<p>$$
\kappa = \frac{F_y^2F_{xx} - 2F_{xy}F_xF_y +
    F_x^2F_{yy}}{(F_y^2 + F_x^2)^{3/2}}
\qquad (5)
$$</p>
<p>Üstteki ünlü eğim  formülüdür. </p>
<p>Bu eğim formülünün diğer bir şekli şöyledir ($F$ yerine $\phi$ kullanırsak)</p>
<p>$$ \kappa = \bigtriangledown \cdot \frac{\bigtriangledown \phi}{|\bigtriangledown \phi|} $$</p>
<p>Bunun okunuş şekli "birim normal gradyanın uzaklaşım ölçüsü (divergence of the
unit normal gradient)" şeklindedir. Acaba bu formül, (5). formül ile
uyumlu mu?</p>
<p>$$ \kappa = \nabla \cdot \frac{\nabla \phi}{|\nabla \phi|}  $$</p>
<p>$$ = \nabla \cdot \frac{(\phi_x,\phi_y)}{\sqrt{\phi_x^2+\phi_y^2}} $$</p>
<p>$$ = \left(\partial_x \frac{\phi_x}{\sqrt{\phi_x^2+\phi_y^2}}\right)+ 
\left(\partial_y \frac{\phi_y}{\sqrt{\phi_x^2+\phi_y^2}}\right)  $$</p>
<p>$$ = \frac{\phi_{xx}}{\sqrt{\phi_x^2+\phi_y^2}} - \frac{\phi_x (\phi_x\phi_{xx}+\phi_y\phi_{xy})}
{(\phi_x^2+\phi_y^2)^{3/2}} +
\frac{\phi_{yy}}{\sqrt{\phi_x^2+\phi_y^2}} - \frac{\phi_y(\phi_x\phi_{xy}+\phi_y\phi_{yy})}
{(\phi_x^2+\phi_y^2)^{3/2}}  $$</p>
<p>$$ = \frac{\phi_{xx}(\phi_x^2+\phi_y^2) - \phi_x
  (\phi_x\phi_{xx}+\phi_y\phi_{xy}) +\phi_{yy}(\phi_x^2+\phi_y^2) -
  \phi_y(\phi_x\phi_{xy}+\phi_y\phi_{yy})}{(\phi_x^2+\phi_y^2)^{3/2}} $$</p>
<p>$$ = \frac{\phi_{xx}\phi_y^2 - 2\phi_x\phi_y\phi_{xy} + \phi_{yy}\phi_x^2}{(\phi_x^2+\phi_y^2)^{3/2}}  $$</p>
<p>Bu formül bizim (5). formül ile tıpatıp aynı.</p>
<p>Üstteki işlemlerde uzaklaşım ölçüsü (divergence) operatörü $\nabla \cdot$
ile gradyan operatörü $\nabla$ arasındaki farkı belirtelim: $\nabla \cdot$
operatörü $F(x,y)$ üzerinde kısmi türevlerin toplamını verir, yani bir
skalar tek sayı döndürür. Gradyan ise her bir elemanı bir kısmi türeve
tekabül eden bir <em>vektör</em> geri getirir.</p>
<p>Python Numpy kodlaması bağlamında, daha önce <em>Kesit Seviyeleri</em> yazısında
ayrıksal olarak bir <code>phi</code> değişkeni içindeki bir fonksiyon üzerinde
eğimselliği şöyle hesaplamıştık:</p>
<pre><code class="python">gradPhiY, gradPhiX = np.gradient(phi)
absGradPhi=np.sqrt(gradPhiX**2+gradPhiY**2)                               

normGradPhiX=gradPhiX/(absGradPhi+(absGradPhi==0))
normGradPhiY=gradPhiY/(absGradPhi+(absGradPhi==0))

divYnormGradPhiX, divXnormGradPhiX=np.gradient(normGradPhiX)
divYnormGradPhiY, divXnormGradPhiY=np.gradient(normGradPhiY)

K = divXnormGradPhiX + divYnormGradPhiY
</code></pre>

<p>Bu satırların $\nabla \cdot \frac{\nabla \phi}{|\nabla \phi|}$ ifadesiyle
birebir uyum gösterdiğini herhalde görebiliyoruz. Satır 1, $\nabla \phi$
ifadesidir. Satırlar 4-5 $\frac{\nabla \phi}{|\nabla \phi|}$ işlemini
gerçekleştiriyor, gradyanı onun uzunluğuna (magnitude) bölerek onu birim vektörü
haline getiriyor. Satırlar 7-10 tekrar sonucun gradyanını bir daha alıyor, ama
bu sefer hesapsal kısmi türevleri birbiriyle topluyor, böylece uzaklaşım ölçüsü
(divergence) hesaplanmış oluyor. Tüm bu işlemlerin sonucu eğimsellik $\kappa$
oluyor.</p>
<p>Dikkat edilirse Python kodundaki K yani $\kappa$, N x N boyutlu bir matristir,
bu mantıklı çünkü $\kappa$ hesabı için kullandığımız $F_x$, $F_y$ gibi
türevler aslında $F_x(x,y)$, $F_y(x,y)$ formüllerine sahipler, yani her $x,y$
kombinasyonu için farklı bir sonuç döndürebilirler. Bu sebeple K yani $\kappa$
$\phi$ fonksiyonunun her $x,y$ noktası için tanımlıdır. </p>
<p>Bazen literatürde $\nabla \cdot$ yerine $div(..)$ kullanıldığını görebilirsiniz,
bu operatörlerin ikisi de aynıdır.</p>
<p>Kaynaklar</p>
<p>[1] Courant, <em>Introduction to Calculus and Analysis Volume 2</em>, sf. 223-232</p>
<p>[2] Wolfram Mathworld, <em>Curvature</em>, <a href="http://mathworld.wolfram.com/Curvature.html">http://mathworld.wolfram.com/Curvature.html</a></p>
<p>[3] Strang, <em>Computational Science and Engineering</em>, </p>