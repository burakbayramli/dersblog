<p><a href="..">Yukarı</a></p>
<h1>Sonlu Hacim (Finite Volume) Yöntemi - 3</h1>
<!DOCTYPE html>
<html>
  <head>
    <title>Sonlu Hacim (Finite Volume) Yöntemi - 3
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
<script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
</script>
</head>

<p>Euler Gaz Denkleminin Çözümü</p>
<p>[2]'de gösterilen tek boyutta Euler gaz dinamiği formülünü yazalım,</p>
<p>$$
\left[\begin{array}{c}
\rho \\ \rho u  \\ E
\end{array}\right]_t
+
\left[\begin{array}{c}
\rho u \\ \rho u^2 + p \\ (E+p) u 
\end{array}\right]_x 
= 0
$$</p>
<p>Üstteki formülü matris notasyonu ile tekrar yazarsak [3, sf. 88],</p>
<p>$$
U_t + F(U)_x = 0
$$</p>
<p>ki $U,F$ birer vektor olacaklar,</p>
<p>$$
U = \left[\begin{array}{c}
\rho \\ \rho u  \\ E
\end{array}\right], \qquad
F(U) =
\left[\begin{array}{c}
\rho u \\ \rho u^2 + p \\ (E+p) u 
\end{array}\right]
$$</p>
<p>Şimdi aynen yatay iletim (lineer advection) ve Burgers'ın denklemlerini
hatırlarsak onları su formde gösterebiliyorduk,</p>
<p>$$
u_t + f'(u) u_x = 0
$$</p>
<p>ki yatay iletim için $f(u) = au$ ve Burgers için $f(u) = \frac{1}{2} u^2$,
bu fonksiyonların türevleri sırasıyla $f'(u) = a$ ve $f'(u) = u u_x$,
sonuç olarak</p>
<p>$$
u_t + a u_x = 0
$$</p>
<p>ve</p>
<p>$$
u_t + u u_x = 0
$$</p>
<p>denklemleri elde ediliyordu. Matris formu için de benzer mantık geçerli,
eğer $F$ türevine Zincirleme Kuralı uygulanırsa,</p>
<p>$$
\frac{\partial F(U)}{\partial x} =
\frac{\partial F}{\partial U} \frac{\partial U}{\partial x}
$$</p>
<p>ki $\partial F / \partial U$ türevi bir Jacobian matrisi ortaya çıkartır. Bu
Jacobian'ı alabilmek için önce $u_1,..,u_n$ değişkenlerini $U$ seviyesinde
tanımlayalım, ayrıca $F$ öğeleri de $f_1,..,f_n$ olarak etiketlemek iyi
olacak, o zaman </p>
<p>$$
U =
\left[\begin{array}{c}
u_1 \\ u_2  \\ u_3
\end{array}\right] = 
\left[\begin{array}{c}
\rho \\ \rho u  \\ E
\end{array}\right], \qquad
F(U) =
\left[\begin{array}{c}
f_1 \\ f_2  \\ f_3
\end{array}\right] = 
\left[\begin{array}{c}
\rho u \\ \rho u^2 + p \\ (E+p) u 
\end{array}\right]
$$</p>
<p>Ve Jacobian bu durumda,</p>
<p>$$
\partial F / \partial U =
\left[\begin{array}{ccc}
\partial f_1 / \partial u_1 &amp; \dots &amp; \partial f_1 / \partial u_m \\
\partial f_2 / \partial u_1 &amp; \dots &amp; \partial f_2 / \partial u_m \\
\vdots &amp; \vdots &amp; \vdots \\
\partial f_m / \partial u_1 &amp; \dots &amp; \partial f_m / \partial u_m 
\end{array}\right]
$$</p>
<p>Üstteki türevleri alabilmek için $f_1,f_2,f_3$ akış formüllerini $u_1,u_2,u_3$
bazlı temsil etmek gerekiyor. $U$ vektörüne bakıyoruz, $u_1 = \rho$,
$u_2 = \rho u$, $u_3 = E$. Buna bakarak $f_1$ kolay, $u_2$ ile aynı,
$f_1 = u_2 = \rho u$.</p>
<p>$f_2,f_3$ içinde $p$ terimi var o sebeple onların karşılığını bulmak için
$p$'yi $u_1,u_2,u_3$ üzerinden göstermek lazım. Daha önce [2]'de görmüştük ki</p>
<p>$$
E = \rho (\frac{1}{2} u^2 + e)
$$</p>
<p>ve</p>
<p>$$
e = \frac{p}{(\gamma - 1)\rho} \implies p = (\gamma - 1) \rho e
$$</p>
<p>$p$ için bize $\rho e$ lazım. Ona erişmeye uğraşalım. Türetim sırasında $\rho
u^2$ ortaya çıkabileceğini görüyoruz, onu $u_1$ ve $u_2$ elde etmek kolay,
$u_2^2 / u_1 = \rho u^2$. Şimdi $E$ formülünü açarsak (ve onun $u_3$ olduğunu
hatırlayalım),</p>
<p>$$
E = u_3 = \frac{1}{2} \rho u^2 + \rho e
$$</p>
<p>Üstteki $\rho u^2$ değerini yerine koyalım,</p>
<p>$$
u_3 = \frac{1}{2} \frac{u_2^2}{u_1} + \rho e
$$</p>
<p>$$
\rho e = u_3 - \frac{1}{2} \frac{u_2^2}{u_1} 
$$</p>
<p>$\rho e$ elde edildi. $p$ içinde yerine koyarsak,</p>
<p>$$
p = (\gamma - 1) \left(  u_3 - \frac{1}{2} \frac{u_2^2}{u_1}   \right)
$$</p>
<p>O zaman</p>
<p>$$
f_2 = \frac{u_2^2}{u_1} +  (\gamma - 1) \left(  u_3 - \frac{1}{2} \frac{u_2^2}{u_1}   \right)
$$</p>
<p>oluyor. $f_2$'yi basitleştirirsek,</p>
<p>$$
= \frac{u_2^2}{u_1} + (\gamma - 1)u_3 - \frac{(\gamma-1)}{2} \frac{u_2^2}{u_1}
$$</p>
<p>$$
= \frac{u_2^2}{u_1} \left( 1 - \frac{\gamma-1}{2}  \right) + (\gamma - 1)u_3
$$</p>
<p>$$
f_2 = \frac{1}{2} (3-\gamma) \frac{u_2^2}{u_1} + (\gamma - 1)u_3
$$</p>
<p>Devam edelim, $f_3$ türetelim. $E,p$ biliniyor, ama bir $u$ lazım,
$u_2 = \rho u$ demiştik, $u = u_2 / \rho$ diyebiliriz, $u_1 = \rho$
olduğuna göre, $u = u_2 / u_1$.</p>
<p>$$
f_3 =  \left(
  u_3 + (\gamma - 1) ( u_3 - \frac{1}{2} \frac{u_2^2}{u_1})
\right) \frac{u_2}{u_1}
$$</p>
<p>$$
= \frac{u_3 u_2}{u_1} + (\gamma - 1) \left(
  \frac{u_3 u_2}{u_1} - \frac{u_2^2}{2u_1^2}
\right)
$$</p>
<p>$$
= \cancel{\frac{u_3 u_2}{u_1}} +
\frac{\gamma u_3 u_2}{u_1} -
\frac{\gamma u_2^3}{2u_1^2} -
\cancel{\frac{u_3 u_2}{u_1}} +
\frac{u_2^3}{2 u_1^2}
$$</p>
<p>$$
= \frac{\gamma u_3 u_2}{u_1} - \frac{1}{2} (\gamma - 1) \frac{u_2^3}{u_1^2}
$$</p>
<p>Böylece $F(U)$ sonucunu bulmuş oluyoruz, </p>
<p>$$
F(U) =
\left[\begin{array}{c}
f_1 \\ f_2  \\ f_3
\end{array}\right] =
\left[\begin{array}{c}
u_2 \\
\frac{1}{2} (3-\gamma) \frac{u_2^2}{u_1} + (\gamma - 1)u_3 \\
\gamma \frac{u_2}{u_1} u_3 - \frac{1}{2} (\gamma - 1)\frac{u_2^3}{u_1^2}
\end{array}\right] 
$$</p>
<p>Üstteki $F(U)$ matrisine bakarak onun Jacobian matrisini artık ortaya çıkartabiliriz,</p>
<p>$$
\partial F / \partial U =
\left[\begin{array}{ccc}
0 &amp;
1 &amp;
0 \\
-\frac{1}{2} (\gamma - 3)(\frac{u_2}{u_1})^2 &amp;
(3-\gamma)(\frac{u_2}{u_1}) &amp;
\gamma-1
\\
- \frac{\gamma u_2 u_3}{u_1^2} + (\gamma-1)(\frac{u_2}{u_1})^3 &amp;
\frac{\gamma u_3}{u_1} - \frac{3}{2} (\gamma-1)(\frac{u_2}{u_1})^2 &amp;
\gamma (\frac{u_2}{u_1})
\end{array}\right]
$$</p>
<p>Tekrar ana değişkenler $u,E$ bazında temsil etmek iyi olur, pek çok yerde
$u_2/u_1$ ifadesi var, bu gayet basit $\rho u / \rho = u$ demektir. Bir
$\frac{u_2 u_3}{u_1^2}$ görüyoruz, onu açarsak $\rho u E / \rho^2 = \rho E / \rho$,
ve $u_3 / u_1$ ise $E / \rho$ olur, o zaman,</p>
<p>$$
\partial F / \partial U =
\left[\begin{array}{ccc}
0 &amp;
1 &amp;
0 \\
-\frac{1}{2} (\gamma - 3)u^2 &amp;
(3-\gamma)u &amp;
\gamma-1
\\
- \frac{\gamma u E}{\rho} + (\gamma-1)u^3 &amp;
\frac{\gamma E}{\rho} - \frac{3 (\gamma-1)u^2}{2} &amp;
\gamma u
\end{array}\right]
$$</p>
<p>sonucuna erişiriz [4, sf. 52].</p>
<p>[devam edecek]</p>
<p>Kaynaklar</p>
<p>[1] Leveque, <em>Riemann Problems and Jupyter Solutions</em></p>
<p>[2] Bayramli, <em>Fizik, Gazlar, Sıvılar - 2</em></p>
<p>[3] Toro, <em>Riemann Solvers and Numerical Methods for Fluid Dynamics</em></p>
<p>[4] Hesthaven, <em>Numerical Methods for Conservation Laws</em></p>