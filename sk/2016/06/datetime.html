
<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
   <script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
   </script>
   <link rel="stylesheet" type="text/css" media="screen" href="https://burakbayramli.github.io/css/style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1548953794786292"
          crossorigin="anonymous"></script>  
  </head>
    <body>
      <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">
            <a href="https://burakbayramli.github.io" style="text-decoration:none; color:inherit;">dersblog</a>
          </h1>
          <h2 id="project_tagline"></h2>          
        </header>
      </div>
      <div id="main_content_wrap" class="outer">        
        <section id="main_content" class="inner">
        <h1></h1>
<h1>Tarih Zaman Icin datetime</h1>

<p>Python ile bazi datetime numaralari.</p>

<p>Bugunun tarihi</p>

<pre><code>import datetime

print (datetime.datetime.now())
</code></pre>

<p>Class datetime uzerinde bir suru ek bilgi vardir, mesela sadece
bugunun ayini almak icin</p>

<pre><code>print (datetime.datetime.now().month)
</code></pre>

<p>Diger ogeler day, ya da year olabilir.</p>

<p>Bir dosyanin yaratilis tarihi icin (ve o tarihin gunu icin)</p>

<pre><code>print (datetime.datetime.fromtimestamp(os.path.getctime("[DOSYA]")).day)
</code></pre>

<p>Java'dan gelen <code>currentTimeInMillis()</code> cagrisini normal tarihe
donusturmek icin</p>

<pre><code>millis = 1492161538887
from datetime import date
print date.fromtimestamp(millis/1000.0)
</code></pre>

<p>Sonuc</p>

<pre><code>2017-04-14
</code></pre>

<p>Yilin haftasini bulmak</p>

<pre><code>import datetime
print (datetime.date(2019, 1, 4).isocalendar()[1])
now = datetime.datetime.now()
print (datetime.date(now.year, now.month, now.day).isocalendar()[1])

</code></pre>

<p>İlk sonuç 1 olacaktır, çünkü Ocak 4'ün yılın kaçınci haftası olduğuna
baktık, ve sonuç tabii ki 1. İkinci işlem içinde olduğumu güne göre
hafta hesabı yapar.</p>

<p>String verisi ile tarih yaratmak,</p>

<pre><code>import datetime
s = "10/10/11"
d = datetime.datetime.strptime(s, "%m/%d/%y")
print d
</code></pre>

<pre><code>2011-10-10 00:00:00
</code></pre>

<p>Gun eklemek (ya da cikartmak)</p>

<pre><code>print d + datetime.timedelta(days=10)
</code></pre>

<pre><code>2011-10-20 00:00:00
</code></pre>

<p>Tekrar string'e cevirmek</p>

<pre><code>print d.strftime('%Y-%m-%d')
</code></pre>

<pre><code>2011-10-10
</code></pre>

<p>Ayri ayri yil, gun, vs vererek yaratmak,</p>

<pre><code>d2 = datetime.datetime(1999, 1, 1)
print d2
</code></pre>

<pre><code>1999-01-01 00:00:00
</code></pre>

<p>Bir tarih objesinin yil, gun, ay ogelerine bakmak,</p>

<pre><code>print d2.year, d2.month, d2.day
</code></pre>

<pre><code>1999 1 1
</code></pre>

<p>Zaman Farklari</p>

<p>Iki tarih arasindaki zaman farkini bulmak icin basit cikartma islemi yeterl</p>

<pre><code>d1 = datetime.datetime(1994, 1, 1)
d2 = datetime.datetime(1999, 1, 1)

print d2-d1, type(d2-d1)
</code></pre>

<p>Sonuc</p>

<pre><code>1826 days, 0:00:00 
</code></pre>

<p>Bu bir timedelta objesinden geliyor, bu objenin gecen zamani saniye
olarak gosterme ozelligi de var</p>

<pre><code>print (d2-d1).total_seconds()
</code></pre>

<pre><code>157766400.0
</code></pre>

<p>Arrow, Pandas</p>

<p>Hem arrow hem pandas paketleri datetime işlenmesini destekliyor. Her
iki paket ile herhangi bir formattaki zamanı alıp çevirebiliriz.</p>

<pre><code>import arrow

arrow.get("2017-01-12T14:12:06.000")
</code></pre>

<p>Fakat üstteki yavaş olabilir,</p>

<pre><code>import pandas as pd

arrow.get(pd.Timestamp("2017-01-12T14:12:06.000"))
</code></pre>

<p>Maya diye bir paket de işleri çok kolaylaştırıyor. Herhangi bir
format'tan okumak, zaman dilimi değişimi gibi işler çok rahat.</p>

<pre><code>import maya
s = "00:06:13 May 30, 2019 PDT"
print (s)
t = maya.parse(s).datetime(to_timezone='US/Eastern')
print (t.strftime('%Y-%m-%d %H:%M'))
</code></pre>

          <br/><a href="../index.html">Yukarı</a>
        </section>          
      </div>
    </body>
</html>
