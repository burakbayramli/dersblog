<!DOCTYPE html>
<html>
  <head>
    <title>Ders 21
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
   <script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
   </script>
   <link rel="stylesheet" type="text/css" media="screen" href="https://burakbayramli.github.io/css/style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1548953794786292"
          crossorigin="anonymous"></script>  
  </head>
    <body>
      <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">
            <a href="https://burakbayramli.github.io" style="text-decoration:none; color:inherit;">dersblog</a>
          </h1>
          <h2 id="project_tagline"></h2>          
        </header>
      </div>
      <div id="main_content_wrap" class="outer">        
        <section id="main_content" class="inner">
        <h1>Ders 21
</h1>

<p>Evrişim (convolution) tekniği, iki fonksiyon üzerinde işlem yaparak üçüncü bir
fonksiyon elde eder, ve özel bir işareti vardır.</p>
<p>$$ f(t) * g(t) $$</p>
<p>Elde edilen fonksiyon $f(t)$'ye neredeyse hiç benzemeyecektir. Evrişim işlemini
faydalı hale getiren iki sebep var. Birinci fayda formel tanımıyla
alakalı. Diyelim ki üstteki iki fonksiyonun ayrı ayrı Laplace Transformu</p>
<p>$$ F(s) = \int_0^{\infty} e^{-st} f(t) \mathrm{d} t $$</p>
<p>$$ G(s) = \int_0^{\infty} e^{-st} g(t) \mathrm{d} t $$</p>
<p>İki fonksiyonun çarpımının Laplace transformunu elde etmek için fonksiyonların
ayrı ayrı transformunu bir şekilde bir şekilde kullanan bir formül olsa iyi
olmaz mıydı? Böyle bir fonksiyon var mıdır?</p>
<p>Dolaylı yoldan evet. Transformların çarpımı, fonksiyonların çarpımının değil ama
"evrişimlerinin" transformuna eşittir. Yani</p>
<p>$$
F(s)G(s) =  \int_0^{\infty} e^{-st} (f*g) \mathrm{d} t 
\qquad (1)
$$</p>
<p>Peki niye böyle bir kısayolun olması iyi bir şey? Faydayı belirttik ama sebebini
belirtmedik.</p>
<p>Bunu anlamak için önce üstel serilere bakalım. Hatırlayalım, Laplace
transformunun güç serileriyle (power series) paralelliği vardı</p>
<p>$$ F(x) = \sum a_n x^n $$</p>
<p>$n$'yi $t$ yapıp sürekli ortama geçince Laplace transformunu elde
ediyorduk.</p>
<p>Şimdi ikinci fonksiyon</p>
<p>$$ G(x) = \sum b_n x^n $$</p>
<p>Üstteki formüllerde katsayı için $a_nb_n$ kullansam, bu $F(x)$ ve $G(x)$ ile bir
şekilde bağlantı yaratır mıydı? Cevap dolaylı yoldan evet. Aşağıdaki formülde
$c_n$'i $a_n,b_n$ ile ilintilendiren bir formül lazım bize.</p>
<p>$$ F(x)G(x) = \sum c_n x^n $$</p>
<p>Bu formül ödeviniz olsun, ama bu formülü bir kere bulunca sürekli ortam için
birazdan vereceğimiz formüle ne kadar benzediğini göreceksiniz.</p>
<p>$$ f(t)*g(t) = \int_0^t f(u)g(t-u) \mathrm{d} u $$</p>
<p>Ne biçim bir formül bu? Onu anlamanın en iyi yolu onu kullanarak bir şeyler
hesaplamak herhalde. Not: Kabaca bir tanım şöyle olabilir, $t$ bazlı iki
fonksiyon alınıyor, sıfır ile $t$ değeri arasındaki tüm değerler $f$ için olduğu
gibi, $g$ için tam tersi şekilde $f,g$'ye hesaplattırılıp birbirleri ile
çarpılıyor.</p>
<p>Bu arada evrişim sırabağımsız (commutative) bir işlemdir, yani </p>
<p>$$ 
f \star g = g \star f 
$$</p>
<p>Evrişim formülüne bakınca sırabağımsızlık bariz değil, çünkü formül simetrik
durmuyor, ama evrişim formülünü (1)'deki gibi görürsek, o zaman bariz.</p>
<p>$$ \mathcal{L} (f*g) \leadsto F(s)G(s) $$</p>
<p>işe, $F(s)$ ve $G(s)$ çarpımı sırabağımsızdır, o zaman evrişim de
sırabağımsızdır.</p>
<p>Örnek</p>
<p>$t^2 * t$'yi hesaplayalım</p>
<p>$$
t^2 * t =\int_0^t u^2 \cdot (t - u) \mathrm{d} u
$$</p>
<p>$$ = \frac{u^3}{3}t - \frac{u^4}{4} \bigg]_{0}^{t} = 
\frac{t^4}{3} - \frac{t^4}{4} =
\frac{t^4}{12}
$$</p>
<p>Pür formül kullanan çözüm böyle. Ama hile (!) yaparak Laplace transformunu
kullanabiliriz.</p>
<p>$$ t^2 \leadsto \frac{2}{s^3}, t \leadsto \frac{1}{s^2} $$</p>
<p>Bu transformların çarpımını alırsak </p>
<p>$$F(s)G(s) = \frac{2}{s^5} $$</p>
<p>Üsttekinin ters Laplace'i nedir? </p>
<p>$$ \mathcal{L}^{-1}(\frac{2}{s^5}) = \frac{1}{12}t^4 $$</p>
<p>Bunu nasıl hemen bulduk? Bildiğimiz bir ters transform şöyle</p>
<p>$$ \mathcal{L}^{-1}(\frac{4!}{s^5}) = t^4 $$</p>
<p>Bunu alıp iki üsttekine çevirmek için 12 ile bölmek gerekiyordu.</p>
<p>Örnek</p>
<p>$$ f(t) * 1 = \int_0^t f(u) \ 1 \mathrm{d} u $$</p>
<p>$$  = \int_0^t f(u) \mathrm{d} u $$</p>
<p>Şimdi evrişim işleminin Laplace Transformu ile bağlantısını ispatlayacağız. </p>
<p>$$ F(s)G(s) = \int_0^{\infty}  e^{-su}f(u) \mathrm{d} u \cdot<br />
\int_0^{\infty}  e^{-sv} g(v) \mathrm{d} v
$$</p>
<p>Üsttekini cebirsel olarak bir yere "doğru" manipüle etmeden önce, belki şunu
düşünsek daha iyi olur. "Neyi" manipüle edersek üstteki forma geliriz? Çift
entegrallerde entegre edilenleri her biri "tek bir şeyin" fonksiyonu olan ayrı
grupların çarpımı olarak görmek ise yarar, çünkü o zaman mesela iç entegral her
neyse o değişkene göre diğeri sabit sayılır, dışarı atılabilir, vs. Yani
üsttekine alttaki formülden gelebiliriz</p>
<p>$$ = \int_{0}^{\infty} \int_{0}^{\infty} e^{-s(u+v)} f(u)g(v) \mathrm{d} u \mathrm{d} v $$</p>
<p>Daha da basitleştirelim. Eğer $t=u+v$ olsaydı (ki $t$ burada yeni bir değişken
olarak dışarıdan formüle dahil ediliyor) işimiz kolaylaşırdı. $u=u$ olarak
alırız, $v$ artık kullanılmaz, $t-u = v$ yeterli.</p>
<p>$$ = \int \int  e^{-st} f(u)g((t-u)) \mathrm{d} u __ \mathrm{d} t $$</p>
<p>Üstte $dt$ kullanmak istiyorum ama bu değişimi dikkatli yapmak lazım, boş
bırakılan yere ne geleceğini bulmak için Jacobian matrisini kullanmam lazım.</p>
<p>$$ \mathrm{d} u \mathrm{d} v = \frac{\partial(u,v)}{\partial(u,t)} \mathrm{d} u \mathrm{d} t $$</p>
<p>$$ u = u $$</p>
<p>$$ v = t - u $$</p>
<p>$$
J = \left|\begin{array}{rr} 1 &amp; 0 \\ -1 &amp;1 \end{array}\right| = 1
$$</p>
<p>Yani </p>
<p>$$ \mathrm{d} u \mathrm{d} v = 1 \mathrm{d} u \mathrm{d} t $$</p>
<p>O zaman </p>
<p>$$ = \int \int e^{-st} f(u)g((t-u)) \mathrm{d} u \mathrm{d} t $$</p>
<p>Tamam. Bir adım daha kaldı, entegral sınırlarını da değiştirmek lazım. Bu biraz
daha zor olabilir.</p>
<p>İç entegrale bakalım, $u$ değişiyor, $t$ sabit tutuluyor. Daha doğrusu
$t=u+v$ olduğuna göre $u+v$ bir sabit. Bir $u,v$ grafiği düşünürsek, </p>
<p><img alt="" src="21_1.png" /></p>
<p>$u+v$ gösterilen düz çizgiler üzerinde sabittir. </p>
<p><img alt="" src="21_2.png" /></p>
<p>$u$ üstteki oklar yönünde artar. Peki $u$ bölgeye soldan girdiğinde değeri
nedir? Sıfır. Alttan çıkarken değeri nedir? O noktada $v=0$, $u+v = t$ olduğuna
göre, $u=t$.</p>
<p>$$ = \int \int_0^t e^{-st} f(u)g((t-u)) \mathrm{d} u \mathrm{d} t $$</p>
<p>Dış entegral, orijin noktasındaki $t=0$'dan başlayarak tüm çizgiler için bu
işlemi yapmak istiyorum, bu işlem sonsuza kadar devam ediyor. </p>
<p>$$ = \int_0^{\infty} \int_0^t e^{-st} f(u)g((t-u)) \mathrm{d} u \mathrm{d} t $$</p>
<p>İspat tamamlandı. </p>
<p>Laplace Transformunu ile evrişim işlemi arasındaki bağlantıyı gördük. </p>
<p>Evrişim çok önemli bir işlemdir, ama onu kullanan pek çok kişi onu Laplace
Transformuyla alakalı olarak kullanmaz. Onu olduğu gibi tek başına
kullanırlar. Bir örnek vereyim: benim kızım bir doğa / çevre mühendisi
(environmental engineer), ve müşterileri için risk analizi yapmak gibi işleri
var. Bir gün bir müşterisi için bir bilimsel makale okuyordu, makale asit
yağmuru ile alakalıydı, yağmur gelirse çevre ne kadar zarar görür gibi konularla
ilgiliydi. Verilen zararın hesabı için evrişim kullanılıyor dedi, bana sordu
"evrişim nedir?". Makaleyi ben de okudum, hakikaten ilginçti, yani bu alanda
evrişim hesabının olması ilginçti.</p>
<p>Sonraları diğer insanlar da benzer sorularla bana geldiler. Kuzey Kutbu'nda
delme işlemi yapan bir mühendis geldi mesela, delme sırasında algılanan
radyoaktiviteyi kullanıp milyonlarca yıl önceki iklim şartları hakkında hesap
yapmakla ilgileniyordu, o da evrişim hesabını kullandı.</p>
<p>O yüzden şimdi ben de size pek çok alana adapte edilebilecek, genel, basit bir
model göstereceğim, bu modeli örnek olarak aklınızda tutmanız evrişim hesabını
anlamanız için iyi olur. Problem radyoaktif atıklarla alakalı.</p>
<p>Bir fabrika radyoaktif atık üretiyor. </p>
<p>$f(t)$: atım hızı (rate), $t$ sene. İki zaman noktasını düşünürsek,
$t_i,t_{i+1}$ arasında üretilen radyoaktif atık $\approx f(t_i) \cdot \Delta
t$. Zaman aralığı küçüldükçe bu hesap kesinleşecek.</p>
<p><img alt="" src="21_3.png" /></p>
<p>Problemim, $t=0$'dan başlarsam $t$ anında ne kadar radyoaktif atık biriktiğinin
hesabı. Bu hesabı zorlaştıran radyoaktif maddelerin aynı anda çürüyor olmasıdır.</p>
<p>Yani bir yandan atık üretiliyor, bir yandan bu atıklar bir şekilde radyoaktif
özelliklerini kaybediyorlar. O zaman yaptığımız hesap üretilen madde
öbeklerinin, parçalarının birikintide "ne kadar beklediğini" de hesaba katmalı
<em>ki</em> onun çürümesini de bir yandan hesaplayabilelim.</p>
<p>Çürüme hesabı basit bir diferansiyel denklem, $t$ anında kalan madde için,
eğer $A_0$ ile başlanırsa çözümü</p>
<p>$$ A_0e^{-kt} $$</p>
<p>$t$ ekseninin ismini değiştirip $u$ yapalım (bunu niye yaptığımız birazdan belli
olacak)</p>
<p><img alt="" src="21_4.png" /></p>
<p>O zaman daha önce hesapladığımız gibi $[u_i,u_{i+1}]$ arasında üretilen
radyoaktif atık $\approx f(u_i)\Delta u$.</p>
<p>$t$ anında çürüme ise </p>
<p>$$  \approx f(u_i)\Delta u \cdot e^{-k ( \ \ \ )}$$</p>
<p>$e$'nin solundaki kısım atılan, eklenen kısım. Çürüme hesabına göre orası bir
nevi $A_0$. Peki $e$'nin üstündeki boşluğa ne yazılmalı? Oraya eklenen kısmın
çürüdüğü zaman aralığı konulmalı. O zaman aralığı nedir? $u_i$'da atılmış, $t$
anına bakıyorum, o zaman $t-u_i$ aralığı kadar çürümüş demektir.</p>
<p>$$  \approx f(u_i)\Delta u \cdot e^{-k ( t-u_i )}$$</p>
<p>Şimdi tüm $u$ aralıklarını alıp birbiriyle toplarsam, $t$ anındaki toplamı
bulurum,</p>
<p>$$ \approx \sum_{i=1}^{n} f(u_i) e^{-k(t-u_i)} \Delta u $$</p>
<p>$\Delta u \to 0$ iken üstteki "Riemann toplamı" alttaki formüle yaklaşır
(aralıklar $u_1 = 0$, ve $u_n = t$ arasında)</p>
<p>$$ \to \int_0^{t} f(u) e^{k(t-u)}du $$</p>
<p>Üstteki fonksiyon bir evrişimdir, </p>
<p>$$ = f(t) * e^{-kt} $$</p>
<p>Yani hesap atık fonksiyonu ile çürüme fonksiyonun bir evrişimidir (convolution
of).</p>
<p>Pek çok diğer problem üstteki probleme indirgenebilir, onun merceğinden
anlaşılablir. Mesela çöp atıklarını düşünelim, ama çöp atıkları çürümüyor
olsunlar. O zaman evrişim hesabı</p>
<p>$$ f(t) * 1 $$</p>
<p>1 kullanıldı çünkü çürüme yok. </p>
<p>Bir diğer örnek, tavuk yetiştiriliyor, $f(t)$ yeni tavukların üretilme oranı
(kg), $t$ doğdukları anda civcivlerin büyüme büyüme oranı, $t$ anında kaç kilo
tavuk olduğu $f(t) * t$.</p>
          <br/><a href="../index.html">Yukarı</a>
        </section>          
      </div>
    </body>
</html>
