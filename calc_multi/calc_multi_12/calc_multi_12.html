<h1>Ders 12</h1>
<!DOCTYPE html>
<html>
  <head>
    <title>Ders 12
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
<script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
</script>
</head>

<p>Zincirleme Kanunu hatırlayalım</p>
<p>$$ \frac{dw}{dt}  = w_x \frac{dx}{dt} + 
w_y \frac{dy}{dt} + 
w_z \frac{dz}{dt}  $$</p>
<p>Bu formül, kısmi türevler üzerinden, $w$'daki değişimin $x,y,z$'deki
değişime ne kadar "hassas" ne kadar "bağlı" olduğnu gösteriyor.</p>
<p>Şimdi üsttekini daha azaltılmış, özetli (compact, concise) bir formda şöyle
yazacağım. </p>
<p>$$ 
= \nabla w \cdot  \frac{d\vec{r}}{dt} 
$$</p>
<p>Gradyan vektörü tüm kısmi türevlerin bir araya konmuş halidir. </p>
<p>$$ \nabla w = &lt; w_x, w_y, w_z &gt; $$</p>
<p>Tabii ki bunu söyleyince üstteki gradyan'ın $x,y,z$'ye bağlı olduğunu da
söylüyoruz, mesela $w$'nun belli bir nokta $x,y,z$'da gradyanını
alabilirsiniz, o zaman her değişik $x,y,z$ noktasında farklı bir vektör
elde edersiniz, ki bu vektörlerin tamamına ileride "vektör alanı (vector
field)" ismini vereceğiz. Devam edelim, </p>
<p>$$ \frac{d\vec{r}}{dt} = &lt; \frac{dx}{dt}, \frac{dy}{dt}, \frac{dz}{dt} &gt; $$</p>
<p>Yani hız vektörü (velocity vector) $d\vec{r}/{dt}$ yukarıdaki gibi
tanımlıdır.</p>
<p>Bugünkü amacımız gradyan vektörünü anlamak, ve nerelerde
kullanabileceğimizi incelemek. Gradyanları yaklaşıksal formüllerde
kullanmak mümkündür, vs. Üstte gördüğümüz onun notasyonu. </p>
<p>Gradyanların belki de en "havalı" özellikleri şudur. </p>
<p>Teori</p>
<p>İddia ediyorum ki $\nabla w$ vektörü, $w = \textrm{ bir sabit }$ile elde
edilecek kesit yüzeyine (level surface) her zaman diktir.</p>
<p>Eğer fonksiyonumun bir kontur grafiğini çizersem</p>
<p><img alt="" src="12_1.png" /></p>
<p>gösterilen noktada hesaplanacak gradyan vektörü o noktadaki kontura
diktir. </p>
<p>Örnek 1</p>
<p>Lineer bir $w$ kullanalım. </p>
<p>$$ w = a_1 x + a_2 y + a_3 z $$</p>
<p>Gradyan nedir? Kısmi türevleri alalım:</p>
<p>$$ \nabla w = <a_1, a_2, a_3> $$</p>
<p>Konturları nasıl elde ederim? $a_1 x + a_2 y + a_3 z  = c$ ki $c$ bir
sabittir, bu formülü tatmin eden tüm $x,y,z$ değerleri bir düzlem
oluştururlar. </p>
<p>Bu düzlemin normalinin nasıl alınacağını biliyoruz, katsayılara bakarız,
$<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#64;&#64;&#85;&#85;&#69;&#69;&#69;&#64;&#64;&#49;&#44;&#97;&#64;&#64;&#85;&#85;&#69;&#69;&#69;&#64;&#64;&#50;&#44;&#97;&#64;&#64;&#85;&#85;&#69;&#69;&#69;&#64;&#64;&#51;">&#97;&#64;&#64;&#85;&#85;&#69;&#69;&#69;&#64;&#64;&#49;&#44;&#97;&#64;&#64;&#85;&#85;&#69;&#69;&#69;&#64;&#64;&#50;&#44;&#97;&#64;&#64;&#85;&#85;&#69;&#69;&#69;&#64;&#64;&#51;</a>$. Bu vektörün gradyanla aynı çıktığına dikkat, ki normal
vektör de düzleme diktir zaten. Aynı çıkmaları mantıklı. </p>
<p>Aslında bu örnek gradyanın dikliğini bir anlamda ispatlıyor, çünkü düzlem olmasa
bile herhangi bir fonksiyonun birinci yaklaşıksallığı bir düzlem yaratır, o
düzlemin normalı, gradyanı eşitliği bizi yine gradyanın dikliğine götürür. Ama
bu yeterince ikna edici olmadıysa başka bir örneğe bakabiliriz.</p>
<p>Örnek 2</p>
<p>$$ w = x^2 + y^2 $$</p>
<p>Bu fonksiyonun kesit seviyeleri, değişik yarıçaplara sahip dairelerdir,
$x^2 + y^2 = c$ formülündeki değişik $c$ değerleri bu daireleri tanımlar. </p>
<p>Gradyan vektörü</p>
<p>$$ \nabla w = &lt;2x, 2y&gt; $$</p>
<p><img alt="" src="12_2.png" /></p>
<p>Seçilen $x,y$ noktasında $\nabla w$ gösterilmiş. Bu vektörün $x$ ve $y$
eksenlerinde boyunun, başladığı noktaya göre olan $x,y$ değerlerinin
yaklaşık iki katı olduğuna dikkat, ki bu da $&lt;2x,2y&gt;$ vektörü ile uyumlu. </p>
<p>Şimdi gradyanın niye kesit eğrilerine hep dik olduğunu ispatlayalım.</p>
<p>İspat</p>
<p>Önce kesit eğrileri "üzerinde" hareket eden bir nokta hayal edeceğiz. Bu
nokta fonksiyonun sabit olduğu yerlerden geçiyor demektir, çünkü kontur
üzerinde fonksiyon değeri hep aynıdır. </p>
<p>Eğri $\vec{r} = \vec{r}(t)$ hep $w = c$ üzerinde olacak. Resme bakalım,
hayali bir kesit yüzeyi üzerinde bir eğri bu (kırmızı renkli) ve bu eğrinin
üzerinde giden noktanın bir hızı olacak. Bu arada $w$ mesela $w = x^2 +
y^2$ belki, herhangi bir üç boyutlu fonksiyon. $\vec{r}$'nin $w$ üstünde
gitmesi demek, $\vec{r}$ ile $w$ parametrize edilebilir demek, $\vec{r}(t)
= &lt; x(t),y(t),z(t) &gt;$ ve onu kullanarak $w(\vec{r}(t)) = c$.</p>
<p><img alt="" src="12_3.png" /></p>
<p>İddia o ki, </p>
<p>$$ \vec{v} = \frac{d\vec{r}}{dt} $$</p>
<p>vektörü, kesit $w = c$'ye muhakkak teğet olmalı, çünkü hız eğriye teğet, ve
eğri kesit içinde. Bu arada $w$'nin aslında $w(\vec{r}(t))$ olduğunu
belirttik.</p>
<p>Bu sayede Zincirleme Kanununu kullanarak </p>
<p>$$ \frac{dw(\vec{r})}{dt} = \nabla w \cdot \frac{d\vec{r}}{dt} = \frac{dc}{dt}$$</p>
<p>eşitliğini kurabiliriz. Noktasal çarpım nereden geldi? Bu ifade $w$'nin
her kısmi türevinin alıp, ona tekabül eden $\vec{r}(t)$ öğesinin türevi ile
çarpıp sonuçların toplanması demek. Sonuç Zincirleme Kanunu'ndaki görüntü
olacaktır. Ayrıca</p>
<p>$$  = \nabla w \cdot \vec{v} = 0$$</p>
<p>Sıfıra eşitliğin sebebi $w = c$ olması ve sabitin türevi $dc/dt$ sıfır oldu. </p>
<p>Şimdi sıfır sonucundan ters yöne gidelim: iki vektörün noktasal çarpımı ne
zaman sıfır sonucu verir? Eğer vektörler birbirine dik ise. Demek ki
$\nabla w \perp \vec{v}$.</p>
<p>Hatta iddia ediyorum ki bu diklik $w=c$ üzerindeki her hareket (motion)
için geçerlidir. Yani $\vec{v}$, kesit yüzeyine teğet olan herhangi bir
vektör olabilir, üstteki diklik hep doğru olacaktır.</p>
<p><img alt="" src="12_4.png" /></p>
<p>Bunun güzel bir uygulaması şu, artık istediğimiz her şeyin teğet düzlemini
bulabiliriz. </p>
<p>Örnek</p>
<p>Yüzey $x^2 + y^2 - z^2 = 4$'un $(2,1,1)$ noktasındaki teğet düzlemini
bul. Alttaki şekil bir hiperboloid (hyperboloid) ve bu dersin altında
grafiklemek için gereken kodlar var. </p>
<p><img alt="" src="12_5.png" /></p>
<p>Resimde teğet düzlem pek teğet gibi değil, diğer grafiğin içine girmiş gibi
duruyor, fakat problemin verdiği noktada düzlem teğet. </p>
<p>Bu düzlemi nasıl bulacağız? Gradyanı hesaplayarak. </p>
<p>Kesit seviyesi $w=4$ ve Yüzey $w = x^2 + y^2 - z^2$. </p>
<p>$$ \nabla w = &lt;2x, 2y, -2z&gt; $$</p>
<p>Verilen nokta değerlerini bu gradyan vektörüne verirsek, sonuç
$&lt;4,2,-2&gt;$. Bu sonuç yüzeye ya da teğet düzleme normal (dik) olan 
vektörü verecek. </p>
<p>Bu normal vektörü kullanarak düzlemin formülünü bulabiliriz. </p>
<p>$$ 4x + 2y - 2z = ? $$</p>
<p>Soru işareti ne olur? $(2,1,1)$ noktasını formüle koyarsak, sonuç 8 çıkar.</p>
<p>$$ 4x + 2y - 2z = 8 $$</p>
<p>Alternatif Yöntem</p>
<p>Aslında tüm bunları gradyan olmadan da yapabilirdik, bir diferansiyel ile
ise başlayabilirdik</p>
<p>$$ dw = 2x dx + 2y dy -2z dz $$</p>
<p>$(2,1,1)$ noktasında</p>
<p>$$ = 4dx + 4dy - 2dz $$</p>
<p>Yaklaşıksal olarak </p>
<p>$$ \Delta w \approx 4 \Delta x + 2\Delta y - 2\Delta z  $$</p>
<p>Ne zaman kesit yüzeyi, kontur üzerindeyiz? Eğer $w$'de hiç değişim yok ise,
yani $\Delta w = 0$ ise. Bu arada üstteki yaklaşıksallığın bir lineer
yaklaşıksallık olduğunu unutmayalım. $(2,1,1)$ noktasında bu teğeti kullanmak istersek,<br />
$\Delta w = 0$ eşitliği bize $4 \Delta x + 2\Delta y - 2\Delta z $ teğet 
düzlemini verecektir. Nasıl? $\Delta x$ değişimdir, teğet düzlem
üzerinde değişimi tanımlamak istiyorsak, $(2,1,1)$'den başlayarak bir yere
gittiğimizi düşünmemiz gerekir, ki mesela $x-2$ değişimini yapabiliriz,
vs. Tam formül</p>
<p>$$ 4(x-2) + 2(y-1) - 2(z-1) = 0 $$</p>
<p>Yönsel Türevler (Directional Derivatives) </p>
<p>Elimdeki bir $w = w(x,y)$ formülünün kısmi türevini aldığım zaman 
$\partial  w/\partial x$, $\partial w/\partial y$ ile mesela, bu türevler 
x-ekseni ya da y-ekseni yönünde değişim olduğu zaman $w$'nun nasıl
değiştini ölçerler. Peki başka yönlere göre, mesela bir birim 
vektör $\hat{u}$ yönünde türev alınamaz mı? Cevap evet. Yönsel 
türevler bu ise yarıyorlar. </p>
<p><img alt="" src="12_6.png" /></p>
<p>Yani $\hat{u}$ üzerinden geçen yolda ilerlerken $z$'nin nasıl değişeceğini
merak ediyorum. Düz çizgi üzerindeki gidişata (straight line trajectory)
bakıyoruz.</p>
<p>$s$ adlı bir parametreye bağlı bir pozisyon vektörü $\vec{r(s)}$ hayal
edelim, öyle ki,</p>
<p>$$ d\vec{r}/ds = \hat{u} $$</p>
<p>sonucunu versin.</p>
<p>Niye üstte $t$ yerine $s$ kullandım? Çünkü çizgi boyunca birim hızda
ilerliyorum, o zaman parametrize ettiğim şey katedilen yol. $s$ bir anlamda
eğri uzunluğu (arc length), tabii tam eğri denemez çünkü çizgi düz, ama
yine mesafe kavramını kullanıyoruz.</p>
<p>O zaman $dw/ds$ nedir? Bunu hesaplamak için Zincirleme Kanunu'nun özel bir
durumunu kullanacağız.</p>
<p>Eğer $\hat{u} = <a,b>$ ise</p>
<p>$$ x(s) = x_0 + as $$</p>
<p>$$ y(s) = y_0 + bs $$</p>
<p>Bu formülleri $w$'ye sokarız, sonra $dw/ds$'i hesaplarız. </p>
<p>Tanım: Yönsel Türev</p>
<p>$$ \frac{dw}{ds}_{|\hat{u}} $$</p>
<p>Daha önce kısmi türevleri incelerken onları geometrik olarak, x ve y
eksenine paralel düzlemlerin fonksiyonu kesmesi olarak görmüştük. Yönsel
türevler ise herhangi bir yöndeki (daha doğrusu $\hat{u}$ yönündeki) bir
düzlemin fonksiyonu kesmesi olarak görülebilir.</p>
<p><img alt="" src="12_7.png" /></p>
<p>Tanım</p>
<p>$dw / ds_{|\hat{u}}$ = Bir grafiğin (fonksiyonun) $\hat{u}$ vektörünü içeren /
ona paralel olan, ve dikey düzlem (vertical plane) kesilmesi ile elde edilen, o
düzlemdeki yansımasının oluşturduğu eğrinin değişimi / eğimi (slope).</p>
<p>Zincirleme Kanunu uygulanırsa</p>
<p>$$ \frac{dw}{ds} = \nabla w \cdot \frac{d\vec{r}}{ds} 
= \nabla w \cdot \hat{u}
$$</p>
<p>Hatırlamamız gereken formül o zaman</p>
<p>$$ \frac{dw}{ds}_{|\hat{u}} =  \nabla w \cdot \hat{u} $$</p>
<p>Eşitliğin sağ tarafı "gradyanın $\hat{u}$ yönünde giden bileşeni, kısmı"
olarak ta nitelenebilir. </p>
<p>Kavramların birbiriyle alakasını iyice görmek için suna bakalım</p>
<p>Örnek</p>
<p>$$ 
\frac{dw}{ds}_{|\hat{i}} =  \nabla w \cdot \hat{i} = 
\frac{\partial w}{\partial x} $$</p>
<p>Geometrik olarak</p>
<p>$$ \frac{dw}{ds}_{|\hat{u}} =  \nabla w \cdot \hat{u} $$</p>
<p>$$ =  |\nabla w||\hat{u}|\cos(\theta)  $$</p>
<p>$\hat{u}$ birim vektör olduğuna göre $|\hat{u}| = 1$, formülden atılır</p>
<p>$$ =  |\nabla w||\cos(\theta)  $$</p>
<p><img alt="" src="12_8.png" /></p>
<p>Bu ifade "gradyanın $\hat{u}$ yönündeki bileşeni" hesabının bir diğer
versiyonudur aslında. </p>
<p>Şu soruyu soralım: hangi yöndeki değişim en büyüktür? $|\nabla
w||\cos(\theta)$ ifadesinin en buyuk olduğu yer $\cos(\theta)=1$ olduğu
zamandır, yani $\theta = 0$, ki bu durum $\hat{u} = dir(\nabla w)$, yani
$\hat{u}$'nun gradyan ile aynı yönde olduğu zamandır.</p>
<p>O zaman şu yorumu da yapabiliriz, gradyan belli bir noktada fonksiyonun en
çok artacağı yönü gösterir. </p>
<p>Peki $|\nabla w|$, yani $\nabla w$'nun büyüklüğü neye eşittir? </p>
<p>$$ |\nabla w| =   \frac{dw}{ds}_{|\hat{u}=dir(\nabla w)}  $$</p>
<p>En hızlı düşüş (azalış) hangi yöndedir? En fazla artışın tam tersi
yönünde. </p>
<p>Yani min $dw/ds_{|\hat{u}}$ için $\cos(\theta) = -1$ olmalıdır, yani $\theta =
180^o$,  $\hat{u}$, $-\nabla w$  yönünde olduğu zaman.</p>
<p>Peki şu ne zaman doğrudur? </p>
<p>$$ \frac{dw}{ds}_{|\hat{u}} = 0 $$</p>
<p>Yani fonksiyon hangi yönde değişmez? </p>
<p>Bunun için $\cos(\theta) = 0$ olmalıdır, ki bu $\theta = 90^0$ olduğu
zamandır. Yani $\hat{u} \perp \nabla w$ ise. Bunu anlamanın bir diğer yolu,
hiç değişimin olmadığı yönün kesit yüzeyine teğet olduğudur, bu yüzeyde $w$
hiç değişmediğine göre değişim olmaz, değişim yoksa, biz de teğet hareket
ediyoruz demektir. </p>
<p>Soru</p>
<p><img alt="" src="2d9.png" /></p>
<p>P noktasında $\partial w/ \partial x$ ve $\partial w/\partial y$'yi 
kabaca hesapla. </p>
<p>$$ \frac{\partial w}{\partial x} = \frac{dw}{ds} \bigg|_{\hat{i}} \approx
\frac{\Delta w}{\Delta s} \approx
\frac{-1}{5/3} = -0.6
$$</p>
<p>$$ \frac{\partial w}{\partial y} = \frac{dw}{ds} \bigg|_{\hat{j}} \approx
\frac{\Delta w}{\Delta s} \approx
\frac{-1}{1} = -1
$$</p>
<p>$\Delta = -1$ çünkü dik giderken kesit seviye 2'den 1'e geliyoruz, $w$ 1
azalıyor. Bu gidişat $s$'in kendi değişimi $\Delta s$, bunu da kabaca, sol
alt köşedeki skalaya bakarak tahmin ediyoruz, sağa doğru yatay gidiş 1'den
büyük gibi duruyor, ona 5/3 demişiz, yukarı doğru gidişat tam 1 gibi
duruyor, ona 1 demişiz. </p>
<p>$\partial w / \partial y$ hesabında niye aşağı değil yukarı gitmişiz? Çünkü
$\hat{i}$'nin yönü yukarıdır, aşağı değil. </p>
<p>Hiperboloid </p>
<p>Parametrizasyonu türetelim. Diyelim ki $x^2 + y^2 - z^2 = 1$ gibi bir
paraboloid'imiz var. $x,y$'yi şöyle alalım</p>
<p>$$ x = r \cos u $$</p>
<p>$$ y = r \sin u $$</p>
<p>Yerine koyarsak</p>
<p>$$ r^2 - z^2 = 1 $$</p>
<p>elde ederiz. Şimdi kareleri birbirinden çıkartılınca 1 veren bir şeyler
bulmak lazım. Hiperbol $\sin$ ve $\cos$ (hyperbolic sine, cosine) böyle
fonksiyonlardır. </p>
<p>$$ \cosh^2x - \sinh^2x = 1 $$</p>
<p>Bu eşitliği kullanarak </p>
<p>$$ r = \cosh v $$</p>
<p>$$ z = \sinh(v) $$</p>
<p>Yine yerine koyalım</p>
<p>$$ x = \cos u \cosh v $$</p>
<p>$$ y = \sin u \cosh v $$</p>
<p>$$ z = \sinh v $$</p>
<p>Son formüllerimiz bunlar.</p>
<pre><code class="python">from __future__ import division

from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure(figsize=plt.figaspect(1))  # Square figure
ax = fig.add_subplot(111, projection='3d')

r=1;
u=np.linspace(-2,2,200);
v=np.linspace(0,2*np.pi,60);
[u,v]=np.meshgrid(u,v);

a = 1
b = 1
c = 1

x = a*np.cosh(u)*np.cos(v)
y = b*np.cosh(u)*np.sin(v)
z = c*np.sinh(u)

ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b')

plt.savefig('hyperboloid.png')
</code></pre>

<p><img alt="" src="hyperboloid.png" /></p>
<p>Bir diğer kod $a \cos,b \sin$ ifadelerinin toplamını gösteriyor</p>
<pre><code class="python">from pylab import *

xmax = 6.
xmin = -6.
D = 100
x = linspace(xmin, xmax, D)

a = 3
b = 1

plot(x, (a*cos(x) + b*sin(x)))
plot(x, (a*cos(x)))
plot(x, (b*sin(x)))

grid()
legend(['sum', 'cos','sin'])
plt.savefig('1h7.png')
</code></pre>

<p><img alt="" src="1h7.png" /></p>