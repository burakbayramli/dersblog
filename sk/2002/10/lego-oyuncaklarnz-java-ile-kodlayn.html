
<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
   <script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
   </script>
   <link rel="stylesheet" type="text/css" media="screen" href="https://burakbayramli.github.io/css/style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1548953794786292"
          crossorigin="anonymous"></script>  
  </head>
    <body>
      <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">
            <a href="https://burakbayramli.github.io" style="text-decoration:none; color:inherit;">dersblog</a>
          </h1>
          <h2 id="project_tagline"></h2>          
        </header>
      </div>
      <div id="main_content_wrap" class="outer">        
        <section id="main_content" class="inner">
        <h1></h1>
<h1>Lego Oyuncaklarınızı Java ile Kodlayın</h1>

<p>Java proglama dilinin esnekliği kendini her yerde gösteriyor. Bu
yazımızda ufak ortamlarda calışan bir örnek sunmaya calışacağım.
Büyük çoğunlugumuz küçükken Lego ile oynadık, ya da ne olduğunu
biliyoruz. Bizim zamanımızda olan Lego parçaları, mekanik ve yerinden
oynamayan parçalardı. Oynayan parçalar olsa bile, çocuklar eliyle
tutup evirip çevirirdi. Buna rağmen, Lego parçaları zeka geliştirmesi
ve çocukları üretmeye teşvik ettiği için muazzam bir ortam
olmuştur. Hayal dünyası ile yakın bağlantı halinde olan çocukların,
yaptıkları şeylere hayat vermesi ve oynamaları gayet rahattı.  Simdi
filimi ileri sararak 21. yüzyıla gelelim. Lego tekrar büyük bir devrim
yaratarak, oyuncak parçalarının içine programlanabilen bir beyin
ekledi.</p>

<p>RCX adı verilen bu beyin, öteki parçalar gibi, ötekilere yapışabilen
türden tabii ki. Fakat en önemli özelliği, üzerinde 5 tane olan çıkış
bağlantısı, ve bu bağlantıların tekerlek, ışık kontrol, dokunma
kontrolü gibi öteki parçalara bağlanması. Bu bağlantı çok
basit. Aç/Kapa şeklinde komutlar, beyinden uzuv parçalara basit
komutlar ile gönderilebiliyor.  Programlama diline gelelim. Lego
Mindstorm kutusunu alırsanız, içinden çıkan CD-ROM üzerinde, görsel
bir program ortamı bulacaksınız. Fakat bu program, görsel çoğu ortamın
olduğu gibi zaman alan bir ortam. Ayrıca gelişmiş bir programlama
dilinin gücü yok.  İşte burada, Java sahneye giriyor. RCX kodunu
anlayıp tersine çeviren programcılar, ufak bir Java VM programını Lego
beynine koymayı başardılar. Tiny VM denen bu ortam üzerinde, Lego
Mindstorm motor ve arayıcı/tarayıcı kontroller icin arayüzü yazdılar,
ve sonuç olarak Java kullanarak Lego oyuncağımızi kontrol etmeniz
mümkün oldu. Bu yeni Lego işletim sistemine LeJos deniyor. (Lego Java
Operating System/Lego Java İşletim Sistemi) Bu yazımızda, LeJos
ortamını nasıl kuracağımızı anlatacağız.  Lego Mindstorm icin yazılan
programlar, önce dizüstü yada masaüstü bilgisayarında
geliştirilir. Geliştirme ortamı bilgisayarınızda USB çıkış noktası
olmasına dikkat edin. Mindstorm kutusundan çıkan bir İnfrared verici
USB ile bağlandıktan sonra, derlenen programları infrared üzerinden
Lego beynine aktarılır. Java ya da basit RCX programları için bu işlem
aynıdır.</p>

<p>Lego Mindstorm paketinizi alınca, CD-ROM'u takip sistemi
kurun. Menüden çıkan seçenekleri takip edip bunu yapabilirsiniz. Bu
işlem tamamlanınca, Lego işletim sisteminin kurulması lazım. (Bu
sistem LeJos'dan farklı, ama kurulması gerekir).  Bu işlemler
bittikten sonra, LeJos sitesinden gerekli programı yükleyin. Windows
ve Linux ortamları için geliştirme kodları bulacaksınız. Bu kodlar,
sıkıştrılmış şekilde tar yada zip ortamında gelecek. Bu dosyaları
açıp, sabit disk üzerine kurun. Nereye kurduğunuz önemli değil.
Kurulduktan sonra, bazı 'ortam değişkenlerini' tanımlamanız
gerekiyor. Windows ortamında iseniz, <code>Settings | Control Panel</code>
üzerinden <code>Environment Variables</code> seçeneğine gelin. Buradan, <code>PATH</code>
değişkeni için <code>c:\lejos\bin;</code> ekleyin, ve RCXTTY değişkeni için USB
yazın.  Ayrıca Java geliştirme ortamınız olması lâzım. Bunun için
ekteki baglantidan alabilirsiniz.  Bu işlemler bittikten sonra, komut
satırına gelin ve şu komutu işletin.  lejosfirmdl İşlem sonunda Lego
beyni, iki kere 'bip' sesi çıkartacak.</p>

<p>Kutlarım, artık Lego'nuz Java için hazır.</p>

<div class="codehilite">
<pre><span></span><code><span class="kn">import</span> <span class="nn">josx.platform.rcx.*</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span><span class="p">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">arg</span><span class="p">)</span><span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">rot</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">rot</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="n">rot</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">A</span><span class="p">.</span><span class="na">forward</span><span class="p">();</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">C</span><span class="p">.</span><span class="na">forward</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">){}</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">A</span><span class="p">.</span><span class="na">stop</span><span class="p">();</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">C</span><span class="p">.</span><span class="na">stop</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">rot</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">rot</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="n">rot</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">A</span><span class="p">.</span><span class="na">backward</span><span class="p">();</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">C</span><span class="p">.</span><span class="na">backward</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">A</span><span class="p">.</span><span class="na">stop</span><span class="p">();</span>
        <span class="n">Motor</span><span class="p">.</span><span class="na">C</span><span class="p">.</span><span class="na">stop</span><span class="p">();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="p">}</span>

    <span class="p">}</span>

<span class="p">}</span>
</code></pre>
</div>

<p>Programı yazıp kaydedin. Tekrar komut satırına dönün ve şunu işletin:
<code>lejos Testlejos -o Test.bin Test</code> ve <code>lejosrun Test.bin</code>. Tekrar
kutlarım, yeni yazdığınız program, Lego beynine yüklendi. Geriye kalan
tek yapmanız gereken, Legoyu açıp (On-Off düğmesi), Run (çalıştır)
düğmesine basmak. Programınız işleme girecek.  Örnek olarak gördüğünüz
program için, Lego beyni üzerindeki A ve C motor bağlantılarını iki
tekerleğe baglayın. Program çalışınca, oyuncak arabanız iki kere
ileri, iki gere geri gidecek.</p>

<p><img src="lego.jpg" alt="" /></p>

          <br/><a href="../index.html">Yukarı</a>
        </section>          
      </div>
    </body>
</html>
