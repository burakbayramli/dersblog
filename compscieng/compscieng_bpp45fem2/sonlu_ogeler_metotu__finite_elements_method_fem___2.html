<!DOCTYPE html>
<html>
  <head>
    <title>Sonlu Öğeler Metotu (Finite Elements Method -FEM-) - 2
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
   <script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
   </script>
   <link rel="stylesheet" type="text/css" media="screen" href="https://burakbayramli.github.io/css/style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1548953794786292"
          crossorigin="anonymous"></script>  
  </head>
    <body>
      <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">
            <a href="https://burakbayramli.github.io" style="text-decoration:none; color:inherit;">dersblog</a>
          </h1>
          <h2 id="project_tagline"></h2>          
        </header>
      </div>
      <div id="main_content_wrap" class="outer">        
        <section id="main_content" class="inner">
        <h1>Sonlu Öğeler Metotu (Finite Elements Method -FEM-) - 2
</h1>

<p>Önceki örnekler standart eni değişmeyen kiriş yapısını temel aldı.  Fakat ya
kiriş alttaki gibi olsaydı?</p>
<p><img alt="" src="compscieng_bpp45fem2_01.jpg" /></p>
<p>Bu kirişi temsilen</p>
<p>$$
E I \frac{\mathrm{d}^4 y}{\mathrm{d} X_1^4} = q
$$</p>
<p>diferansiyel denklemini hala kullanabilir miyiz? Dikkat edersek en değiştiğine
göre $X_1$ ile beraber, ona bağlı olarak, atalet momenti $I$ sabit değil,
değişken demektir.. Bazıları düşünebilir "ama o zaman değişken $I$'yi alırız,
üstteki denklemdeki $I$'ya sokarız olur biter". Bunu yapamayız çünkü $I$'nin
sabit olması üstteki denklemi türetmek için bir önkabuldu, yani $I$ değişken ise
üstteki denklemi kullanmak mümkün değildir [1, Ders 4].</p>
<p>Problem şu ki pek çok gerçek dünya uygulaması üstteki Euler-Bernoulli kiriş
formülüne erişirken kullandığımız faraziyelere uymaz, bunları hatırlarsak lineer
elastiklik, yok sayılabilecek Poisson etkileri, düzlemlerin düz kalması idi.
Fakat mesela beton materyelini ele alalım, bu materyel ucuzdur, basınca, yani
içe doğru strese karşı çok dayanıklıdır, ki bu yüzden pek çok yapıda kullanılır,
fakat beton dışa doğru stres, yani gerilime karşı dayanıklı değildir. Çok az bir
yükü bile beton parçaya dışa doğru uygulasam çatlamaya başlar, çatlamak demek
oradaki yüzeyin bozulmaya uğraması demektir, ki dolaylı olarak $I$
değişecektir. Diğer bir problem yüke bağlı olarak betonun $E$ değerinin de
değişmesi. Yani gerçek dünyada $I$ neredeyse hiçbir zaman sabit değildir, $E$
benzer şekilde, durumu daha kötü yapan bu değişimlerin çoğunlukla yük $q$
değerine bağlı olması. Bu herşeyi arap saçına döndürür.</p>
<p>Problemin çözümü FEM yaklaşımında. Nasıl? Çünkü eğer bir kirişi yeterince ufak
parçalara bölebilirsem o parçalarda $I$, ve $E$ sabit kabul edebilirim ve bu
parçalarda daha basit olan denklemleri kullanabilirim. FEM matematiği bana bu
parçaları birleştirmem için güzel bir mekanizma sağlıyor zaten.</p>
<p><img alt="" src="compscieng_bpp45fem2_02.jpg" /></p>
<p>Üstteki resimdeki yeşil bölgeyi düşünelim, o bölgenin iki yan yüzeylerini
düşünürsek, belki soldan sağa giderken biraz değişim olur ama parça çok ufak
olduğu için bu değişim fazla değildir. </p>
<p>FEM maceramıza çubuk/makaskiriş (bar/truss) öğeleri ile devam edeceğiz.  Bu
yapılar çok basit olmalarına rağmen FEM metadolojisini gösterebilmeleri
açısından uygunlar. Onları sadece küçülme, esneme açısından inceleyeceğiz,
moment, kaykılma gibi konuları şimdilik yok sayacağız. Fakat işleyeceğimiz pek
çok yaklaşım, "direngenlikleri (stiffness)" hesaplarken kullandığımız adımlar
her FEM yaklaşımında faydalı olan kavramlar.</p>
<p>Not düşelim, önceki FEM çözümü Galerkin yaklaşımı ile tüm denkleme analitik bir
çözüm buldu. Bu derste ve gerisinde göreceğimiz türden FEM, Galerkin çözümünü
her parçaya uygulayıp ayrıksal sonuçları birleştiriyor.</p>
<p><img alt="" src="compscieng_bpp45fem2_03.jpg" /></p>
<p>Makaskiriş üstteki gibi olsun, onu parçalara bölelim, sarı noktalar düğümler
(nodes), düğümleri birleştiren öğeler (elements) var. Bu yaklaşımda yer
değişimleri tüm nesne için değil, her düğümde hesaplayacağız. Yer değişimleri
birbiriyle bağlayan şeyler ögeler, kırmızı ile görülen parçalar.  Bu öğe
parçaları aslında bir aradeğerlemeyi (interpolation) temsil ediyor olacaklar,
eğer iki düğümün yer değişimini biliyorsam onları bağlayan parçanın yer
değişimini bunları kullanarak, aradeğerleme yaparak hesaplayabilirim.</p>
<p>Eğer tek bir öğeye bakarsak,</p>
<p><img alt="" src="compscieng_bpp45fem2_04.jpg" /></p>
<p>Yer değişimler her düğüm için demiştik, $u_1,u_2$, amacımız onları hesaplamak.
Eğer bu değişimleri hesaplayabilirsem, daha önce belirttiğimiz gibi, aradaki
öğenin yer değişimini yaklaşık olarak, iki uca bağlı olarak hesaplayabilirim.
Yani eğer düğümlerin her değişimini biliyorsam her şeyin yer değişimini
biliyorum demektir.</p>
<p>Galerkin metotuna başlayalım. Metot uygulanınca bize yer değişimleri için bir
direngenlik matrisi ve öğeler için düğümsel kuvvet vektörü vermeli. Her şey
düğümlerde hesaplanıyor dedik, peki sisteme dağıtık bir yük uygulanıyorsa
ne yapacağız? Bu tür kuvvetlerin düğümler arasında etkili olduğunu biliyoruz,
o zaman bu tür kuvvetleri $x,y,z$ bileşenlerine ayırıp onları düğümlere etkili
vektörler haline getirebilirim.</p>
<p>Ana denklemle başlarsak,</p>
<p>$$
E A \frac{\mathrm{d}^2 y}{\mathrm{d} X_1^2} = -p
$$</p>
<p>Artıksal (residual) hesap şöyle,</p>
<p>$$
R = EA \frac{\mathrm{d}^2 u}{\mathrm{d} X_1^2} + p
$$</p>
<p>Bu artığın tanım bölgesi üzerinden ağırlıklı entegralinin sıfır olmasını
istiyoruz,</p>
<p>$$
\int_\Omega R N_i \mathrm{d} x = 0 
$$</p>
<p>Dikkat, daha önce ağırlık $W_i$ kullanmıştık, şimdi $N_i$ var, bu fonksiyonlar
her düğümde tanımlı şekil fonksiyonu (shape function) olacak. O şekillerin ne
seçildiği FEM'in ana özelliklerinden, detayları göreceğiz.. Şimdi $R$'yi açıp
düzenleme yaparsak,</p>
<p>$$
\int _{0}^{L} \left( EA \frac{\mathrm{d}^2 u}{\mathrm{d} X_1^2} + p  \right) N_i \mathrm{d} X_1 = 0 
$$</p>
<p>$$
\int <em>{0}^{L} \left( EA \frac{\mathrm{d}^2 u}{\mathrm{d} X_1^2} \right) N_i \mathrm{d} X_1 =
- \int </em>{0}^{L} p N_i \mathrm{d} X_1
$$</p>
<p>Parçalı Entegral tekniğini uygulayalım,</p>
<p>$$
\int <em>{0}^{L} EA \left( \frac{\mathrm{d}^2 u}{\mathrm{d} X_1^2}  \right) N_i \mathrm{d} X_1 =
\left( EA \frac{\mathrm{d} u}{\mathrm{d} X_1} N_i \right) \bigg\vert</em>{X_1=0}^{X_1=L} -
\int_{0}^{L} EA
\left( \frac{\mathrm{d} u}{\mathrm{d} X_1} \right)
\left( \frac{\mathrm{d} N_i}{\mathrm{d} X_1} \right) \mathrm{d} X_1 =
- \int _{0}^{L} p N_i \mathrm{d} X_1
$$</p>
<p>Ekşi işaretler olmasın diye birkaç yer değişimi yapalım,</p>
<p>$$
\int_{0}^{L} EA
\left( \frac{\mathrm{d} u}{\mathrm{d} X_1} \right)
\left( \frac{\mathrm{d} N_i}{\mathrm{d} X_1} \right) \mathrm{d} X_1
=
\left( EA \frac{\mathrm{d} u}{\mathrm{d} X_1} N_i \right) \bigg\vert_{X_1=0}^{X_1=L} +
\int _{0}^{L} p N_i \mathrm{d} X_1 
$$</p>
<p>Eşitliğin sağındaki birinci terime dikkat edelim, orada fiziksel anlamı olan bir
ilişki görüyor muyuz? $EA$ çarpı $\mathrm{d} u / \mathrm{d} x$.. Tanıdık geliyor mu?  O ifade
aslında bir kuvvet değil mi? Çünkü hatırlarsak $\mathrm{d} u / \mathrm{d} x$ yer değişimin
türevi, ki bu gerilme, gerilmeyi Young Genliği $E$ ile çarpınca stres elde
ederim. Ek olarak $A$ ile alan çarpımı var, stres kuvvet bölü alan olduğu için
stresi alanla çarpınca geriye kuvvet kalır. Demek ki o terimle eksenel kuvvet
elde ediyorum, bir düğümde konsantre edilmiş $f = E A \epsilon$ kuvvetini
hesaplıyorum. </p>
<p>Bu mantık zinciriyle devam edersem üstteki kuvvet bir düğümdeki kuvveti
gösteriyor ve bu kuvvetin dışarıdan uygulandığı hali temsil ediyor. Hem
yanindaki düğümde bu kuvveti dengeleyen karşı bir kuvvet olacaktır ve
bu kuvvetler birbirini iptal edecektir. O zaman eşitliğin sağındaki
ilk terim iptal edilebilir.</p>
<p>O terimi iptal etmeden hesapları yapabilirdik fakat sonuç aynı çıkardı. Fakat
ekstra, gereksiz hesapları önceden çıkartmak hesap zamanımızı kısaltacağı için
iptali şimdiden yapmak bizim için iyi olacak. Neyse, iptal sonrası geriye
kalanlar</p>
<p>$$
\int_{0}^{L} EA
\left( \frac{\mathrm{d} u}{\mathrm{d} X_1} \right)
\left( \frac{\mathrm{d} N_i}{\mathrm{d} X_1} \right) \mathrm{d} X_1
= \int _{0}^{L} p N_i \mathrm{d} X_1 
$$</p>
<p>Şimdi $N_i$ fonksiyonlarına gelelim, onlara şekil fonksiyonları demiştik.
Bu şekiller neye benziyor, ne için kullanılıyorlar?</p>
<p>Diyelim ki bir çubuğa bakıyorum ve onun üzerinde iki tane düğüm tanımladım,
düğümlerden biri $X_1 = x_1$ noktasında diğeri $X_2 = x_2$ noktasında.</p>
<p><img alt="" src="compscieng_bpp45fem2_05.jpg" /></p>
<p>Ve yine diyelim ki bu iki düğümdeki yer değişimi $u_i$ değerlerini biliyorum,
eldeki örnek için $u_1$ ve $u_2$, kabaca alttaki gibi olsun,</p>
<p><img alt="" src="compscieng_bpp45fem2_06.jpg" /></p>
<p>Şekle gelelim; eğer bu iki düğüm üzerinden bir lineer bağlantı kullanmak
istiyorsam yani iki düğüm arasında aradeğerleme yapacak fonksiyon lineer olsun
diyorsam, yapılacak olan bariz aslında,</p>
<p><img alt="" src="compscieng_bpp45fem2_07.jpg" /></p>
<p>Aradeğerleme $u_e$ bu şekilde. Peki o fonksiyonda bilinmeyen $a_0,a_1$ nasıl
bulunacak? Biz nihai sonuç olarak bu katsayılarla ilgilenmiyoruz, bizi tek
ilgilendiren yer değişim fonksiyonu, bunu belirtmiştik. O zaman üstteki
fonksiyonu $u_1,u_2$ temelli olarak tekrar yazabilir miyiz acaba? Eğer $x_1$
noktasında fonksiyon değeri $u_1$, $x_2$ noktasında $u_2$ ise,</p>
<p>$$
u(x_1) = a_0 + a_1 x_1 = u_1
$$</p>
<p>$$
u(x_2) = a_0 + a_1 x_1 = u_2
$$</p>
<p>İki bilinmeyen var, iki denklem var, çözüm</p>
<p>$$
a_0 = \frac{u_2 x_1 - u_1 x_2}{L}, \qquad a_1 = \frac{u_2 - u_1}{L}
$$</p>
<p>$L$ kırmızı ile gösterilen parçanın uzunluğu sadece, yani $x_2 - x_1$.</p>
<p>$a_0,a_1$ degerlerini $u_e$ icine koyunca,</p>
<p>$$
u = \frac{u_2 x_1 - u_1 x_2}{L} - \frac{u_2 - u_1}{L} X_1
$$</p>
<p>Biraz daha cebirsel değiştirme sonrası</p>
<p>$$
u = \frac{(x_2 - X_1)}{L} u_1 + \frac{(X_1 - x_1)}{L} u_2
$$</p>
<p>Bu son değişimi yaptık çünkü bu formda dikkat edersek denklem daha önce
gördüğümüz Galerkin deneme fonksiyonlarına benziyor,</p>
<p>$$
u = u_1 \phi_1(X_1) + u_2 \phi_2 (X_1)
$$</p>
<p>kalıbında görüldüğü gibi. Deneme fonksiyonlarında $u_1,u_2$ sabit değerlerdi, bu
bölümde gördüğümüz $u_i$ değerleri de öyle aslında. Bilinen $u_i$ değerlerini
yaklaşık temsile uğraşıyoruz, gerçi çözüm mekanığı içinde o $u$ değerleri de
hesaplanıyor fakat bu belli formülasyonlar için onların bilindiği
farzedilebilir.</p>
<p>Şimdi $\phi_1,\phi_2$ fonksiyonları bizim önceden seçtiğimiz fonksiyonlardı,
polinom seçtiğimizde $X_1,X_1^2$ gibi hesaplar kullandık. Üstteki türetim
sonrası $N_1,N_2$ var, ve ulaştığımız fonksiyonlar</p>
<p>$$
N_1 = \frac{(x_2 - X_1)}{L}, \quad N_2 \frac{(X_1 - x_1)}{L} 
$$</p>
<p>Bu şekil fonksiyonları neye benziyor acaba? Alttaki gibi,</p>
<p><img alt="" src="compscieng_bpp45fem2_08.jpg" /></p>
<p>Bu iki fonksiyonu üst üste koyduğumuzda (süperimpose) yani topladığımızda,
sonucun mavi çizgiyi aynen vereceğini görebilirdik.</p>
<p>İlginç bir diğer özellik, eğer mesela $N_2$'ye tek başına bakarsam, onun ilk
düğümde 0 değerinde, ikinci düğümde 1 değerinde olduğunu görebiliriz.  Eğer
$N_3$ olsa bu şekil de birinci ve ikinci düğümde sıfır olurdu. Diğer yandan her
şekil fonksiyonu ait olduğu düğümde 1 değerindedir. $N_1$ birinci düğümde 1
değerinde, $N_2$ ikinci düğümde 1 değerinde, vs. Bu şekil fonksiyonları öyle
tasarlanmıştır.</p>
<p>Artık $N_i$ için bir tanıma sahibiz, hesaplamaya başlayabiliriz. Genel FEM
formülasyonunda son alttaki noktaya gelmiştik,</p>
<p>$$
\int_{0}^{L} EA
\left( \frac{\mathrm{d} u}{\mathrm{d} X_1} \right)
\left( \frac{\mathrm{d} N_i}{\mathrm{d} X_1} \right) \mathrm{d} X_1
= \int _{0}^{L} p N_i \mathrm{d} X_1
\qquad (1)
$$</p>
<p>$N_i$ için biraz önceki tanımları kullanırız. $u_1,u_2$ sabittir demiştik,
türevden dışarı çıkartılabilir, yani</p>
<p>$$
u = u_1 N_1 + u_2 N_2
$$</p>
<p>turevi</p>
<p>$$
\frac{\mathrm{d} u}{\mathrm{d} X_1} = u_1 \left( \frac{\mathrm{d} N_1}{\mathrm{d} X_1}  \right) +
u_2 \left( \frac{\mathrm{d} N_2}{\mathrm{d} X_1}  \right)
$$</p>
<p>Matris / vektör formunda gösterebiliriz,</p>
<p>$$
\frac{\mathrm{d} u}{\mathrm{d} X_1} = \left[\begin{array}{cc}
\dfrac{\mathrm{d} N_1}{\mathrm{d} X_1} &amp; \dfrac{\mathrm{d} N_2}{\mathrm{d} X_1} 
\end{array}\right]
\left[\begin{array}{c}
u_1 \\ u_2
\end{array}\right]
$$</p>
<p>(1) formülüne koyarsak,</p>
<p>$$
\underbrace{
  \int_{0}^{L} EA
  \left[\begin{array}{cc}
  \dfrac{\mathrm{d} N_1}{\mathrm{d} X_1} &amp; \dfrac{\mathrm{d} N_2}{\mathrm{d} X_1} 
  \end{array}\right]
  \left( \frac{\mathrm{d} N_i}{\mathrm{d} X_1}  \right) \mathrm{d} X_1
}_{\textrm{Direngenlik Matrisi}}
\left[\begin{array}{c} u_1 \\ u_2 \end{array}\right] =
\underbrace{
  \int</em>{0}^{L} p N_i \mathrm{d} X_1
}_{\textrm{Düğümsel Kuvvetler}}
$$</p>
<p>Eşitliğin solunda gösterilen hesap bize bir matris verecek, materyel mekanığine
ona direngenlik matrisi denir. Sağ tarafta ise düğümsel kuvvetlerin vektörü var,
eğer elde dağıtık bir yük var ise ve düğümsel kuvvetleri hesaplamak istiyorsam
eşitliğin sağındaki o formülü kullanırım. Yani matris çarpı bilinmeyen $u_1,u_2$
vektör çarpımı, eşittir sağda bir vektör.. Bir lineer sistem var elimizde!
Direngenlik çarpı yer değişimi eşittir kuvvet. Bulmak istediğimiz yer
değişimleri değil mi? Üstteki sistemi çözerek onu elde edebiliriz.</p>
<p>Şekil $N$ fonksiyonlarına dönelim, üstteki şapka fonksiyonlarını ifade
etmenin daha genel bir yöntemi [2, sf. 9], ki $h = x_{j+1}-x_j$, ya da
1 uzunluğundaki bir yatay eksen için $h = 1/N$ ve $j = 1,2,...,N$ olmak
üzere,</p>
<p>$$
N_1 = \left\{ \begin{array}{rr}
(x_2 - X_1)/h, &amp; x_1 \le X_1 \le x_2,\\
0, &amp; \textrm{diğer}
\end{array} \right.
$$</p>
<p>$$
N_j = \left\{ \begin{array}{rr}
(X_1 - x_{j-1})/h, &amp; x_{j-1} \le X_1 \le x_j,\\
(x_{j+1} - X_1)/h, &amp; x_j \le X_1 \le x_{j+1},\\
0, &amp; \textrm{diğer}
\end{array} \right.
$$</p>
<p>$$
N_{N+1} = \left\{ \begin{array}{rr}
(X_1 - x_N)/h, &amp; x_N \le X_1 \le x_{N+1},\\
0, &amp; \textrm{diğer}
\end{array} \right.
$$</p>
<p><img alt="" src="compscieng_bpp45fem2_09.jpg" /></p>
<p>Daha önceki örnekte iki parça kullanılmıştı, bu parçaları arttırırsak daha
gerçek probleme yaklaşırız, dört parça kullanalım [3], çubuk uzunluğu $L$,
o zaman $h = L/4$ olur, baz / şekil fonksiyonları alttaki noktalarda tanımlı,</p>
<p><img alt="" src="compscieng_bpp45fem2_10.jpg" /></p>
<p>$$
N_1 = \left\{ \begin{array}{rr}
X_1 / h &amp; 0 \le X_1 \le L/4 \\
(L/2 - X_1) / h &amp; L/4 \le X_1 \le L/2
\end{array} \right.
$$</p>
<p>$$
N_2 = \left\{ \begin{array}{rr}
(X_1 - L/4)/h &amp; L/4 \le X_1 \le L/2 \\
(3L/4 - X_1)/h &amp; L/2 \le X_1 \le 3L/4
\end{array} \right.
$$</p>
<p>$$
N_3 = \left\{ \begin{array}{rr}
(X_1-L/2)/h &amp; L/2 \le X_1 \le 3L/4 \\
(L-X_1)/h &amp; 3L/4 \le X_1 \le L
\end{array} \right.
$$</p>
<p>$$
N_4 = (X_1 - 3L/4) / h
$$</p>
<p>Böylece alttaki fonksiyonları yaratmış olduk,</p>
<p><img alt="" src="compscieng_bpp45fem2_11.jpg" /></p>
<p>[devam edecek]</p>
<p>Kaynaklar</p>
<p>[1] Petitt, <em>Intro to the Finite Element Method</em>, University of Alberta,
    <a href="https://www.youtube.com/watch?v=2iUnfPRk6Ro&list=PLLSzlda_AXa3yQEJAb5JcmsVDy9i9K_fi">https://www.youtube.com/watch?v=2iUnfPRk6Ro&amp;list=PLLSzlda_AXa3yQEJAb5JcmsVDy9i9K_fi</a></p>
<p>[2] Whiteley, <em>Finite Elements Methods, A Practical Guide</em></p>
<p>[3] Adeeb, <em>Introduction to Solid Mechanics, Online Book</em>,
    <a href="https://engcourses-uofa.ca/books/introduction-to-solid-mechanics/">https://engcourses-uofa.ca/books/introduction-to-solid-mechanics/</a></p>
          <br/><a href="../index.html">Yukarı</a>
        </section>          
      </div>
    </body>
</html>
