
<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [["$","$"]]}
      });
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"]
      });
    });
    </script>
   <script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full">
   </script>
   <link rel="stylesheet" type="text/css" media="screen" href="https://burakbayramli.github.io/css/style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1548953794786292"
          crossorigin="anonymous"></script>  
  </head>
    <body>
      <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">
            <a href="https://burakbayramli.github.io" style="text-decoration:none; color:inherit;">dersblog</a>
          </h1>
          <h2 id="project_tagline"></h2>          
        </header>
      </div>
      <div id="main_content_wrap" class="outer">        
        <section id="main_content" class="inner">
        <h1></h1>
<h1>Tekil Nesne Kalıbı (Singleton Pattern)</h1>

<p>Java programlarımızda bâzen bellekteki herhangi bir sınıfın sadece bir
nesnesi olmasını isteyebiliriz. Meselâ: Bazı değerleri merkezi bir
yerde tutmak istiyoruz, ve bu nesneden sadece bir tâne olmasını
istiyoruz. Ayrıca bu kayıt nesnesine erişim için programda oradan
buraya aynı nesne referansını geçirmek istemiyoruz. Bu gibi durumlar
için Tekil Nesne kalıbı biçilmiş kaftandır. Nerede olursak olalım,
SINIF.nesneyiVer().herhangiBirIslem() gibi bir kullanımla bu tek
nesneye erişebiliriz.  Tekil nesne kalıbının temeli çok basittir. Java
dilinde static kelimesinin nesneler bazında (instance) değil, sınıf
bazında geçerli, yani hep aynı olduğunu biliyoruz. Bu özelliği
kullanarak bir Tekil Nesne yaratmak mümkündür.  Öyle bir sınıf yazarız
ki, kurucu metodu (constructor) dışarıya kapalı olur. Bu
bir.</p>

<p>İkincisi, sınıf kendi tipinden bir nesneye işaret eden bir göstergeçi
static olarak kendi içinde taşır. Bundan sonra yapmamız gereken,
static bir nesneyiVer() diye bir işlem yazmaktır. Bu işlem şunları
yapar. Önce sınıf içinde tutulan static göstergecin bir şeyi gösterip
göstermediğine bakar. Eğer gösteriyorsa, bu değeri geri döndürür. Eğer
göstergeç boş (null) ise (ilk başta böyle olacaktır), o zaman yeni bir
tekil TekilNesne yaratılır, ve static göstergece yazılır, ve bu nesne
döndürülür.  Yâni, sonuç olarak TekilNesne yaratılması sadece ve
sadece tek bir static metod üzerinden olacak. Bu metod da "tek bir" ve
"hep aynı" nesneyi yaratıp geri döndürdüğü için, TekilNesne sınıfından
sadece bir tâne nesne olmuş olur.</p>

<pre><code>public class TekilNesne {
   private static TekilNesne nesne;
   private TekilNesne() {
     nesne = new TekilNesne();
   }
   public static TekilNesne nesneyiVer() {
      if (nesne == null) {
         nesne = new TekilNesne();
      }
      return nesne;
   } ...
   public void birseylerYap() { .. }
   public void baskaseylerYap() { .. }
}
</code></pre>

<p>Kullanmak için</p>

<pre><code>TekilNesne.nesneyiVer().birseylerYap();
..
TekilNesne.nesneyiVer().baskaseylerYap();
..
</code></pre>

<p>Önemli bir nokta olarak, birseylerYap() ve baskaseylerYap()
metotlarının static metot olmadıklarına dikkatinizi çekerim. Bu
metotlar, sınıf bazında değil nesne bazında tanımlanmıştır. Fakat bu
sınıftan tek bir nesne çıkacağı için zaten hep aynı nesnenin
üzerindeki birseylerYap() ve baskaseylerYap() metodunu işletiyor
olacağız. Bu bağlamda metot davranışı static bir metodun davranışına
benzer, fakat konuşulan iç değişkenler nesne bazlı olacaktır, bunun
akılda tutulması gerekir.</p>

        </section>          
      </div>
    </body>
</html>
